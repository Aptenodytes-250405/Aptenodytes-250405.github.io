<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>星屑アトリエ / 개인 홈페이지 템플릿</title>
  <meta name="description" content="작고 레트로한 개인 홈페이지 템플릿 — 일기, 갤러리, 링크, 방명록 포함">
  <style>
    :root{
      --bg:#0b0710;
      --card:#0f1220;
      --muted:#b7c0d6;
      --accent:#9fb4ff;
      --glass: rgba(255,255,255,0.04);
      --radius:14px;
      font-family: 'Hiragino Kaku Gothic ProN', 'Noto Sans JP', 'Noto Sans KR', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    html,body{height:100%;}
    body{
      margin:0; background: radial-gradient(1000px 400px at 10% 10%, rgba(159,180,255,0.06), transparent), var(--bg);
      color:var(--muted); -webkit-font-smoothing:antialiased; padding:32px; box-sizing:border-box;
    }
    .wrap{max-width:980px;margin:0 auto;}
    header{display:flex;gap:16px;align-items:center;margin-bottom:20px}
    .title{
      background:linear-gradient(90deg,#fff2 0,#fff0 60%);
      -webkit-background-clip:text; background-clip:text; color:transparent; font-weight:700; font-size:28px;
    }
    .subtitle{font-size:12px;color:var(--muted);}
    nav{display:flex;gap:8px;flex-wrap:wrap}
    .btn{background:var(--card); padding:8px 12px;border-radius:10px;color:var(--muted);text-decoration:none;font-size:13px;border:1px solid rgba(255,255,255,0.03)}
    .grid{display:grid;grid-template-columns:1fr 320px;gap:18px}
    main{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent); padding:18px;border-radius:var(--radius);min-height:320px}
    aside{position:sticky;top:32px;background:var(--card);padding:14px;border-radius:12px}
    h2{color:var(--accent);margin:0 0 12px 0}
    .card{background:var(--glass);padding:12px;border-radius:12px;margin-bottom:12px}
    /* diary list */
    .diary-list{list-style:none;padding:0;margin:0}
    .diary-item{padding:10px;border-bottom:1px dashed rgba(255,255,255,0.03)}
    .meta{font-size:12px;color:#9aa7d3}
    /* gallery */
    .gallery{display:flex;flex-wrap:wrap;gap:10px}
    .thumb{width:calc(33.333% - 6.6px);border-radius:8px;overflow:hidden}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    /* links / banners */
    .banners{display:flex;flex-wrap:wrap;gap:8px}
    .banner{display:block;padding:6px;border-radius:8px;background:rgba(255,255,255,0.02);font-size:13px}
    /* guestbook */
    .guestbook-list{max-height:200px;overflow:auto}
    .guest-item{padding:8px;border-bottom:1px solid rgba(255,255,255,0.02)}
    footer{margin-top:18px;font-size:12px;color:#8086b0}
    /* language toggle */
    .lang{margin-left:auto;display:flex;gap:6px}
    .lang button{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:6px;border-radius:8px;color:var(--muted)}
    /* responsive */
    @media (max-width:860px){.grid{grid-template-columns:1fr} .thumb{width:calc(50% - 5px)}}
    @media (max-width:480px){body{padding:16px}.title{font-size:20px}}
  </style>
</head>
<body>
  <div class="wrap" id="site">
    <header>
      <div>
        <div class="title" id="site-title">星屑アトリエ</div>
        <div class="subtitle" id="site-sub">創作中心・気ままな日記</div>
      </div>
      <nav aria-label="main nav">
        <a class="btn" href="#diary" data-section="diary">日記 / 일기</a>
        <a class="btn" href="#gallery" data-section="gallery">ギャラリー / 갤러리</a>
        <a class="btn" href="#links" data-section="links">リンク / 링크</a>
        <a class="btn" href="#guest" data-section="guest">ゲストブック / 방명록</a>
      </nav>
      <div class="lang">
        <button id="lang-ja">日本語</button>
        <button id="lang-ko">한국어</button>
      </div>
    </header>

    <div class="grid">
      <main>
        <!-- diary -->
        <section id="diary-section" class="card">
          <h2 data-ja="日記" data-ko="일기">日記</h2>
          <p id="diary-intro" data-ja="ここは気ままに書く場所です。創作メモや今日のことを残しておきます。" data-ko="여기는 마음 가는 대로 적는 공간입니다. 창작 메모나 오늘 있었던 일을 기록해요.">여기는 마음 가는 대로 적는 공간입니다. 창작 메모나 오늘 있었던 일을 기록해요.</p>

          <div class="card">
            <form id="diary-form">
              <input type="text" id="diary-title" placeholder="제목 / タイトル" style="width:100%;padding:8px;margin-bottom:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--muted)">
              <textarea id="diary-body" rows="5" placeholder="내용을 입력하세요 / ここに書きます" style="width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--muted)"></textarea>
              <div style="display:flex;gap:8px;margin-top:8px;justify-content:flex-end">
                <button type="submit" class="btn">저장 / 保存</button>
                <button type="button" id="diary-clear" class="btn">초기화 / クリア</button>
              </div>
            </form>
          </div>

          <ul class="diary-list" id="diary-list">
            <!-- diary entries injected here -->
          </ul>
        </section>

        <!-- gallery -->
        <section id="gallery-section" class="card" style="margin-top:16px">
          <h2 data-ja="ギャラリー" data-ko="갤러리">갤러리</h2>
          <p data-ja="업로드 대신 외부 링크나 직접 이미지 주소를 넣어 사용하면 됩니다." data-ko="업로드 대신 외부 링크나 직접 이미지 주소를 넣어 사용하면 됩니다.">업로드 대신 외부 링크나 직접 이미지 주소를 넣어 사용하면 됩니다.</p>
          <div class="gallery" id="gallery">
            <!-- thumbs -->
            <div class="thumb"><img src="https://placehold.co/400x300?text=Sample+1" alt="sample"></div>
            <div class="thumb"><img src="https://placehold.co/400x300?text=Sample+2" alt="sample"></div>
            <div class="thumb"><img src="https://placehold.co/400x300?text=Sample+3" alt="sample"></div>
          </div>
        </section>

        <!-- links -->
        <section id="links-section" class="card" style="margin-top:16px">
          <h2 data-ja="リンク" data-ko="링크">링크</h2>
          <p data-ja="相互リンク歓迎 / 링크 교환 환영" data-ko="상호 링크 환영">상호 링크 환영</p>
          <div class="banners" id="banners">
            <a class="banner" href="#">あなたのサイト / 네 사이트 1</a>
            <a class="banner" href="#">친구의 사이트 2</a>
          </div>
        </section>

        <!-- guestbook -->
        <section id="guest-section" class="card" style="margin-top:16px">
          <h2 data-ja="ゲストブック" data-ko="방명록">방명록</h2>
          <form id="guest-form" style="margin-bottom:10px">
            <input id="guest-name" placeholder="名前 / 이름" style="width:30%;padding:8px;margin-right:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--muted)">
            <input id="guest-url" placeholder="(없으면 비워두기)" style="width:40%;padding:8px;margin-right:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--muted)">
            <button class="btn" type="submit">등록 / 投稿</button>
          </form>
          <div class="guestbook-list" id="guestbook-list">
            <!-- guest entries -->
          </div>
        </section>

      </main>

      <aside>
        <div class="card">
          <strong data-ja="プロフィール" data-ko="프로필">프로필</strong>
          <p id="profile-text" data-ja="名前: 404 / 創作ジャンル: オリジナル・二次創作" data-ko="이름: 404 / 창작 장르: 오리지널・2차창작">이름: 404 / 창작 장르: 오리지널・2차창작</p>
        </div>

        <div class="card">
          <strong data-ja="방문자" data-ko="방문자">방문자</strong>
          <p id="visitor-count">--</p>
        </div>

        <div class="card">
          <strong data-ja="문의" data-ko="문의">문의</strong>
          <p data-ja="連絡は@OwO___VV2で" data-ko="연락은 @OwO___VV2 로">연락은 @OwO___VV2 로</p>
        </div>

      </aside>
    </div>

    <footer>
      <div>© <span id="year"></span> 星屑アトリエ / 개인 홈페이지 템플릿 — 자유롭게 수정・재배포 OK</div>
      <div style="margin-top:6px">데모 기능: 로컬 스토리지에 방명록과 일기를 저장합니다. 서버가 없는 환경에서도 작동합니다.</div>
    </footer>
  </div>

  <script>
    // 기본 설정
    document.getElementById('year').textContent = new Date().getFullYear();

    // 언어 토글
    function setLang(lang){
      document.documentElement.lang = (lang==='ja')? 'ja' : 'ko';
      document.querySelectorAll('[data-ja]').forEach(el=>{
        el.style.display = (lang==='ja')? '':''; // keep
        el.textContent = el.getAttribute('data-'+lang) || el.textContent;
      });
      // 사이트 타이틀 기본 언어 설정
      if(lang==='ja'){document.getElementById('site-title').textContent='星屑アトリエ';}
      else{document.getElementById('site-title').textContent='별屑 아틀리에'}
      localStorage.setItem('site-lang', lang);
    }
    document.getElementById('lang-ja').addEventListener('click', ()=>setLang('ja'));
    document.getElementById('lang-ko').addEventListener('click', ()=>setLang('ko'));
    const savedLang = localStorage.getItem('site-lang') || 'ja';
    setLang(savedLang);

    // 방문자 카운트 (간단한 로컬 카운트)
    let visits = parseInt(localStorage.getItem('visitor-count')||'0');
    visits++;
    localStorage.setItem('visitor-count', visits);
    document.getElementById('visitor-count').textContent = visits + ' 방문';

    // 다이어리 저장 (로컬 스토리지 기반)
    const diaryForm = document.getElementById('diary-form');
    const diaryList = document.getElementById('diary-list');
    function loadDiary(){
      diaryList.innerHTML='';
      const entries = JSON.parse(localStorage.getItem('diary-entries')||'[]');
      entries.reverse().forEach(e=>{
        const li = document.createElement('li'); li.className='diary-item';
        li.innerHTML = `<div style="display:flex;justify-content:space-between"><strong>${escapeHtml(e.title||'(no title)')}</strong><span class="meta">${e.date}</span></div><div style="margin-top:6px;color:var(--muted)">${escapeHtml(e.body)}</div>`;
        diaryList.appendChild(li);
      });
    }
    diaryForm.addEventListener('submit', (ev)=>{
      ev.preventDefault();
      const title = document.getElementById('diary-title').value.trim();
      const body = document.getElementById('diary-body').value.trim();
      if(!body){alert('내용을 입력하세요 / 何か書いてください');return}
      const entries = JSON.parse(localStorage.getItem('diary-entries')||'[]');
      entries.push({title,body,date:new Date().toLocaleString()});
      localStorage.setItem('diary-entries', JSON.stringify(entries));
      document.getElementById('diary-title').value=''; document.getElementById('diary-body').value='';
      loadDiary();
    });
    document.getElementById('diary-clear').addEventListener('click', ()=>{
      if(confirm('정말로 일기 전체를 삭제할까요? 로컬 스토리지에서 지워집니다.')){localStorage.removeItem('diary-entries');loadDiary();}
    });
    loadDiary();

    // 방명록
    const guestForm = document.getElementById('guest-form');
    const guestList = document.getElementById('guestbook-list');
    function loadGuests(){
      guestList.innerHTML='';
      const guests = JSON.parse(localStorage.getItem('guests')||'[]');
      guests.reverse().forEach(g=>{
        const div = document.createElement('div'); div.className='guest-item';
        div.innerHTML = `<div style="display:flex;justify-content:space-between"><strong>${escapeHtml(g.name||'Anon')}</strong><span class="meta">${g.date}</span></div><div style="margin-top:6px"><a href="${escapeAttr(g.url||'#')}">${escapeHtml(g.url||'')}</a></div>`;
        guestList.appendChild(div);
      });
    }
    guestForm.addEventListener('submit', (ev)=>{
      ev.preventDefault();
      const name = document.getElementById('guest-name').value.trim();
      const url = document.getElementById('guest-url').value.trim();
      if(!name){alert('이름을 입력해 주세요 / 名前を入れてください');return}
      const guests = JSON.parse(localStorage.getItem('guests')||'[]');
      guests.push({name,url,date:new Date().toLocaleString()});
      localStorage.setItem('guests', JSON.stringify(guests));
      document.getElementById('guest-name').value=''; document.getElementById('guest-url').value='';
      loadGuests();
    });
    loadGuests();

    // 간단한 XSS 방지
    function escapeHtml(s){ if(!s) return ''; return s.replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;'); }
    function escapeAttr(s){ if(!s) return ''; return s.replaceAll('"','%22').replaceAll('<',''); }

    // 섹션으로 스크롤 이동
    document.querySelectorAll('a[data-section]').forEach(a=>{
      a.addEventListener('click', (e)=>{
        e.preventDefault(); const sec = a.getAttribute('data-section');
        document.getElementById(sec+'-section').scrollIntoView({behavior:'smooth'});
      });
    });

    // 기본 데모 이미지 교체 방법 안내 (콘솔 출력)
    console.log('템플릿: gallery 내 이미지는 외부 URL을 사용하세요. 배너는 #banners 요소에 <a>로 추가합니다. 배포: Neocities, GitHub Pages 추천.');

  </script>
</body>
</html>
